# 测试计划文档 - 视频自动剪辑工具

## 1. 测试概述

### 1.1 测试目标
确保视频自动剪辑工具的所有功能正常运行，包括视频剪辑、播放、信息查看、拼接、压缩和音频抽取等功能。验证系统的稳定性、性能和用户体验。

### 1.2 测试范围
- 功能测试：验证所有功能模块按预期工作
- 性能测试：验证系统处理视频文件的性能
- 兼容性测试：验证系统在不同环境下的兼容性
- 用户体验测试：验证用户界面的友好性和易用性

### 1.3 测试环境
- 操作系统：Windows 10/11, macOS, Linux
- 浏览器：Chrome, Firefox, Safari, Edge
- Python版本：3.7+
- FFmpeg版本：4.0+

## 2. 测试策略

### 2.1 测试类型
1. **功能测试**：验证每个功能模块的正确性
2. **性能测试**：验证系统处理大文件和并发请求的能力
3. **兼容性测试**：验证系统在不同环境下的运行情况
4. **用户体验测试**：验证用户界面的友好性和易用性

### 2.2 测试方法
1. **手动测试**：通过浏览器手动操作验证功能
2. **自动化测试**：编写脚本自动化测试核心功能
3. **压力测试**：测试系统在高负载下的表现

## 3. 功能测试用例

### 3.1 视频剪辑功能测试

#### 3.1.1 Excel导入剪辑测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| CUT-001 | 上传Excel文件进行视频剪辑 | 1. 上传视频文件<br>2. 上传包含剪辑需求的Excel文件<br>3. 点击开始剪辑 | 系统根据Excel中的时间点成功剪辑视频，并生成对应的视频文件 |  |  |
| CUT-002 | Excel文件格式错误处理 | 1. 上传视频文件<br>2. 上传非Excel文件作为剪辑需求<br>3. 点击开始剪辑 | 系统提示文件格式错误，不进行剪辑操作 |  |  |
| CUT-003 | Excel内容格式错误处理 | 1. 上传视频文件<br>2. 上传包含错误时间格式的Excel文件<br>3. 点击开始剪辑 | 系统能正确处理错误格式，跳过错误行或给出提示 |  |  |

#### 3.1.2 网页表格剪辑测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| CUT-004 | 网页表格填写剪辑需求 | 1. 上传视频文件<br>2. 在网页表格中填写剪辑时间点<br>3. 点击开始剪辑 | 系统根据表格中的时间点成功剪辑视频 |  |  |
| CUT-005 | 表格行操作测试 | 1. 添加新行<br>2. 删除行<br>3. 选择多行删除 | 表格行能正常添加、删除和批量删除 |  |  |
| CUT-006 | 时间计算功能测试 | 1. 填写开始和结束时间<br>2. 点击计算时长 | 系统正确计算并显示时长 |  |  |

### 3.2 视频播放与信息查看测试

#### 3.2.1 视频播放测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| PLAY-001 | 视频播放功能 | 1. 上传视频文件<br>2. 点击播放按钮 | 视频能正常播放和暂停 |  |  |
| PLAY-002 | 进度条控制 | 1. 播放视频<br>2. 点击进度条不同位置 | 视频能跳转到指定时间点 |  |  |
| PLAY-003 | 时间显示 | 1. 播放视频 | 正确显示当前时间和总时长 |  |  |

#### 3.2.2 视频信息查看测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| INFO-001 | 视频信息显示 | 1. 上传视频文件<br>2. 查看视频信息 | 正确显示文件名、大小、时长、分辨率等信息 |  |  |

### 3.3 视频拼接功能测试

#### 3.3.1 视频拼接测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| CONCAT-001 | 多视频拼接 | 1. 上传多个视频文件<br>2. 选择要拼接的视频<br>3. 设置输出文件名<br>4. 点击拼接按钮 | 系统成功拼接视频并生成新文件 |  |  |
| CONCAT-002 | 单视频拼接 | 1. 上传一个视频文件<br>2. 选择该视频进行拼接<br>3. 点击拼接按钮 | 系统提示至少需要两个视频文件 |  |  |
| CONCAT-003 | 不同格式视频拼接 | 1. 上传不同格式的视频文件<br>2. 进行拼接操作 | 系统能正确处理不同格式的视频 |  |  |

### 3.4 文件管理功能测试

#### 3.4.1 文件上传测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| FILE-001 | 视频文件上传 | 1. 选择视频文件上传 | 文件成功上传到服务器 |  |  |
| FILE-002 | Excel文件上传 | 1. 选择Excel文件上传 | 文件成功上传到服务器 |  |  |
| FILE-003 | 非法文件上传 | 1. 选择非法格式文件上传 | 系统拒绝上传并给出提示 |  |  |

#### 3.4.2 文件下载与删除测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| FILE-004 | 输出文件下载 | 1. 生成输出文件<br>2. 点击下载链接 | 文件成功下载到本地 |  |  |
| FILE-005 | 文件删除 | 1. 生成输出文件<br>2. 点击删除按钮 | 文件从服务器成功删除 |  |  |

### 3.5 视频压缩功能测试

#### 3.5.1 视频压缩测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| COMPRESS-001 | 视频压缩功能 | 1. 上传视频文件<br>2. 选择压缩质量<br>3. 点击压缩按钮 | 系统成功压缩视频并生成新文件 |  |  |
| COMPRESS-002 | 压缩预估功能 | 1. 上传视频文件<br>2. 选择压缩质量 | 系统正确显示压缩预估信息 |  |  |
| COMPRESS-003 | 不同质量压缩 | 1. 上传视频文件<br>2. 分别选择低、中、高质量进行压缩 | 生成不同大小的压缩文件 |  |  |

### 3.6 音频抽取功能测试

#### 3.6.1 音频抽取测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| AUDIO-001 | 音频抽取功能 | 1. 上传视频文件<br>2. 点击音频抽取按钮 | 系统成功抽取音频并生成音频文件 |  |  |
| AUDIO-002 | 不同格式视频音频抽取 | 1. 上传不同格式的视频文件<br>2. 进行音频抽取 | 系统能正确处理不同格式的视频 |  |  |
| AUDIO-003 | 音频文件播放 | 1. 抽取音频后<br>2. 下载并播放音频文件 | 音频文件能正常播放 |  |  |
| AUDIO-004 | 不同音频格式输出 | 1. 上传视频文件<br>2. 选择不同音频格式<br>3. 进行音频抽取 | 系统能生成指定格式的音频文件 |  |  |
| AUDIO-005 | 音频质量保持 | 1. 上传高质量视频<br>2. 抽取音频 | 抽取的音频质量与原视频一致 |  |  |

## 4. 性能测试

### 4.1 响应时间测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| PERF-001 | 页面加载时间 | 1. 访问系统主页 | 页面加载时间不超过3秒 |  |  |
| PERF-002 | 视频处理响应时间 | 1. 上传视频并进行处理 | 处理响应时间不超过5秒 |  |  |
| PERF-003 | 文件上传下载时间 | 1. 上传大文件<br>2. 下载输出文件 | 上传下载时间不超过10秒 |  |  |

### 4.2 大文件处理测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| PERF-004 | 大视频文件剪辑 | 1. 上传1GB以上视频文件<br>2. 进行剪辑操作 | 系统能正常处理大文件 |  |  |
| PERF-005 | 多文件并发处理 | 1. 同时上传多个视频文件<br>2. 进行处理操作 | 系统能处理并发请求 |  |  |

## 5. 兼容性测试

### 5.1 浏览器兼容性测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| COMPAT-001 | Chrome浏览器 | 1. 在Chrome中访问系统<br>2. 进行各项操作 | 系统功能正常 |  |  |
| COMPAT-002 | Firefox浏览器 | 1. 在Firefox中访问系统<br>2. 进行各项操作 | 系统功能正常 |  |  |
| COMPAT-003 | Safari浏览器 | 1. 在Safari中访问系统<br>2. 进行各项操作 | 系统功能正常 |  |  |
| COMPAT-004 | Edge浏览器 | 1. 在Edge中访问系统<br>2. 进行各项操作 | 系统功能正常 |  |  |

### 5.2 操作系统兼容性测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| COMPAT-005 | Windows系统 | 1. 在Windows中运行系统<br>2. 进行各项操作 | 系统功能正常 |  |  |
| COMPAT-006 | macOS系统 | 1. 在macOS中运行系统<br>2. 进行各项操作 | 系统功能正常 |  |  |
| COMPAT-007 | Linux系统 | 1. 在Linux中运行系统<br>2. 进行各项操作 | 系统功能正常 |  |  |

## 6. 用户体验测试

### 6.1 界面友好性测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| UX-001 | 界面布局 | 1. 访问系统主页 | 界面布局合理，元素排列整齐 |  |  |
| UX-002 | 操作提示 | 1. 进行各项操作 | 系统提供清晰的操作提示 |  |  |
| UX-003 | 错误提示 | 1. 进行错误操作 | 系统提供友好的错误提示 |  |  |

### 6.2 易用性测试
| 测试用例ID | 测试描述 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|------------|----------|----------|----------|----------|----------|
| UX-004 | 功能查找 | 1. 新用户访问系统 | 能快速找到所需功能 |  |  |
| UX-005 | 操作流程 | 1. 完成一次视频剪辑操作 | 操作流程简单明了 |  |  |

## 7. 自动化测试

### 7.1 API测试脚本
```
# test_api.py
import unittest
import requests
import os

class VideoCutHelperAPITest(unittest.TestCase):
    def setUp(self):
        self.base_url = "http://localhost:5001"
        
    def test_upload_video(self):
        # 测试视频上传接口
        pass
        
    def test_upload_excel(self):
        # 测试Excel上传接口
        pass
        
    def test_cut_videos(self):
        # 测试视频剪辑接口
        pass
        
    def test_concat_videos(self):
        # 测试视频拼接接口
        pass
        
    def test_compress_video(self):
        # 测试视频压缩接口
        pass
        
    def test_extract_audio(self):
        # 测试音频抽取接口
        pass

if __name__ == "__main__":
    unittest.main()
```

#### 7.1.1 视频上传接口
- `POST /upload_video`: 视频上传接口

#### 7.1.2 Excel上传接口
- `POST /upload_excel`: Excel上传接口

#### 7.1.3 视频剪辑接口
- `POST /cut_videos`: 视频剪辑接口

#### 7.1.4 视频拼接接口
- `POST /concat_videos`: 视频拼接接口

#### 7.1.5 视频压缩接口
- `POST /compress_video`: 视频压缩接口

#### 7.1.6 音频抽取接口
- `POST /extract_audio`: 音频抽取接口

### 7.2 功能测试脚本
```
# test_functionality.py
import unittest
from selenium import webdriver
from selenium.webdriver.common.by import By
import time

class VideoCutHelperFunctionalityTest(unittest.TestCase):
    def setUp(self):
        self.driver = webdriver.Chrome()
        self.driver.get("http://localhost:5001")
        
    def test_video_cutting(self):
        # 测试视频剪辑功能
        pass
        
    def test_video_concatenation(self):
        # 测试视频拼接功能
        pass
        
    def test_video_compression(self):
        # 测试视频压缩功能
        pass
        
    def test_audio_extraction(self):
        # 测试音频抽取功能
        # 1. 点击音频抽取标签页
        audio_tab = self.driver.find_element(By.CSS_SELECTOR, "[data-tab='audio']")
        audio_tab.click()
        
        # 2. 上传测试视频文件或选择现有文件
        # (需要准备测试文件)
        
        # 3. 点击抽取音频按钮
        # extract_button = self.driver.find_element(By.ID, "extractAudioButton")
        # extract_button.click()
        
        # 4. 验证结果
        # result_element = self.driver.find_element(By.ID, "audioResult")
        # self.assertIn("✅", result_element.text)
        pass
        
    def tearDown(self):
        self.driver.quit()

if __name__ == "__main__":
    unittest.main()
```

## 8. 测试执行计划

### 8.1 测试阶段
1. **单元测试阶段**：开发过程中持续进行
2. **集成测试阶段**：功能模块开发完成后进行
3. **系统测试阶段**：所有功能开发完成后进行
4. **验收测试阶段**：发布前进行

### 8.2 测试时间安排
| 阶段 | 时间 | 测试内容 |
|------|------|----------|
| 单元测试 | 开发过程中 | 各功能模块单元测试 |
| 集成测试 | 第1周 | 模块间接口测试 |
| 系统测试 | 第2周 | 完整系统功能测试 |
| 验收测试 | 第3周 | 用户验收测试 |

### 8.3 测试人员安排
- 开发人员：负责单元测试
- 测试人员：负责集成测试、系统测试和验收测试
- 用户代表：参与验收测试

## 9. 测试风险与应对措施

### 9.1 测试风险
1. **测试环境不一致**：可能导致测试结果不准确
2. **测试数据不足**：可能遗漏某些边界情况
3. **测试时间不足**：可能导致测试覆盖不全
4. **自动化测试维护成本高**：功能变更时需要同步更新测试脚本

### 9.2 应对措施
1. **建立标准化测试环境**：确保所有测试在相同环境下进行
2. **准备充分的测试数据**：包括正常数据、异常数据和边界数据
3. **合理安排测试时间**：预留充足的测试时间
4. **模块化测试脚本**：降低测试脚本维护成本

## 10. 测试报告模板

### 10.1 测试结果汇总
| 功能模块 | 测试用例数 | 通过数 | 失败数 | 通过率 |
|----------|------------|--------|--------|--------|
| 视频剪辑 |  |  |  |  |
| 视频播放 |  |  |  |  |
| 视频拼接 |  |  |  |  |
| 文件管理 |  |  |  |  |
| 视频压缩 |  |  |  |  |
| 总计 |  |  |  |  |

### 10.2 问题记录
| 问题ID | 问题描述 | 严重程度 | 发现时间 | 解决状态 | 解决时间 |
|--------|----------|----------|----------|----------|----------|
|  |  |  |  |  |  |

### 10.3 测试结论
- 系统功能是否满足需求
- 系统性能是否达到预期
- 系统稳定性如何
- 是否可以发布